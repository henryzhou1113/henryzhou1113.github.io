<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>How To Build A Maching_learning System</title>
	<meta name="description" content="How to build a Maching Learing system">
	
	<link rel="canonical" href="http://localhost:4000/2018/07/17/How-to-build-A-Maching_Learning-System/">
	<link rel="alternate" type="application/rss+xml" title="HenryZhou's Personal Website" href="http://localhost:4000/feed.xml" />
	
	<!-- <link rel="stylesheet" href="/css/main.css"> -->
    
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/static/css/index.css">
	<script type="text/javascript" src="/static/js/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/css/monokai_sublime.min.css">
	<script type="text/javascript" src="/static/js/highlight.min.js"></script>

    <!--
    <link rel="stylesheet" type="text/css" href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css">
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="http://apps.bdimg.com/libs/highlight.js/8.4/styles/monokai_sublime.min.css">
	<script type="text/javascript" src="http://apps.bdimg.com/libs/highlight.js/8.4/highlight.min.js"></script>
    -->
    
	<script type="text/javascript" src="/static/js/index.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>

 <!--  <body data-spy="scroll" data-target="#myAffix"> -->
  <body>

    <header>

<!-- navbar -->
  <nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">HenryZhou's Personal Website</a>
      <p class="navbar-text"></p>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">

        
          <li>
        
        <a href="/">Home</a></li>

        
          
            
              <li>
            
            <a href="/projects/"><span class="glyphicon "></span> Projects</a></li>
          
        
          
            
              <li>
            
            <a href="/about/"><span class="glyphicon "></span> About</a></li>
          
        
          
        
          
        
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

</header>

    <div id="main" class="container main">
      <div class="row">
  <div id="myArticle" class="col-sm-9">
    <div class="post-area post">
      <header>
        <h1>How To Build A Maching_learning System</h1>
        <p>Jul 17, 2018</p>
      </header>
      <hr>
      <article>
        <h1 id="how-to-build-a-maching-learing-system">How to build a Maching Learing system</h1>

<ul>
  <li>The goal of our experiment is to build a maching learning system to make the House-price prediction based on the given dataset</li>
  <li>We use imputer-method to imputer the missing value</li>
  <li>We transform categorical variable to binary value via one-hot encoding method</li>
  <li>We compare the model prediction performance of RandomForestRegressor algorithm and XGBoost algorithm</li>
  <li>At last,we calculate the prediction error based on data without processing so as to show the model improvment afte processing data.</li>
</ul>

<h3 id="1import-the-dataset-and-split-it-into-train-data-and-test-data">1)Import the dataset and split it into train data and test data</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'../data/house-prices/train.csv'</span><span class="p">)</span>
<span class="c1"># Drop houses where the target is missing
</span><span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s">'SalePrice'</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">X_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s">'SalePrice'</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">SalePrice</span>
<span class="n">X_train</span><span class="p">,</span><span class="n">X_test</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X_data</span><span class="p">,</span>
                                                <span class="n">y_data</span><span class="p">,</span>
                                                <span class="n">train_size</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
                                                <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
                                                <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="2transform-categorical-variable-to-binary-value-via-one-hot-encoding">2)Transform categorical variable to binary value via one-hot encoding</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># "cardinality" means the number of unique values in a column.
# We use it as our only way to select categorical columns here. This is convenient, though
# a little arbitrary.
</span><span class="n">low_cardinality_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">cname</span> <span class="k">for</span> <span class="n">cname</span> <span class="ow">in</span> <span class="n">X_train</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> 
                                <span class="n">X_train</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="ow">and</span>
                                <span class="n">X_train</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="s">"object"</span><span class="p">]</span>
<span class="n">numeric_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">cname</span> <span class="k">for</span> <span class="n">cname</span> <span class="ow">in</span> <span class="n">X_train</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> 
                                <span class="n">X_train</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="ow">in</span> <span class="p">[</span><span class="s">'int64'</span><span class="p">,</span> <span class="s">'float64'</span><span class="p">]]</span>
<span class="n">my_cols</span> <span class="o">=</span> <span class="n">low_cardinality_cols</span> <span class="o">+</span> <span class="n">numeric_cols</span>
<span class="n">X_train_predictors</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">[</span><span class="n">my_cols</span><span class="p">]</span>
<span class="n">X_test_predictors</span> <span class="o">=</span> <span class="n">X_test</span><span class="p">[</span><span class="n">my_cols</span><span class="p">]</span>

<span class="c1">#one-hot encoding
</span><span class="n">X_train_predictors</span><span class="p">[</span><span class="s">'tmp'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'train'</span>
<span class="n">X_test_predictors</span><span class="p">[</span><span class="s">'tmp'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'test'</span>
<span class="n">concat_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_train_predictors</span> <span class="p">,</span> <span class="n">X_test_predictors</span><span class="p">])</span>
<span class="n">features_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">concat_data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">low_cardinality_cols</span><span class="p">,</span> <span class="n">dummy_na</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># Split your data
</span><span class="n">X_train_encoded</span> <span class="o">=</span> <span class="n">features_data</span><span class="p">[</span><span class="n">features_data</span><span class="p">[</span><span class="s">'tmp'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'train'</span><span class="p">]</span>
<span class="n">X_test_encoded</span> <span class="o">=</span> <span class="n">features_data</span><span class="p">[</span><span class="n">features_data</span><span class="p">[</span><span class="s">'tmp'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'test'</span><span class="p">]</span>

<span class="c1"># Drop your labels
</span><span class="n">X_train_encoded_predictors</span> <span class="o">=</span> <span class="n">X_train_encoded</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s">'tmp'</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">X_test_encoded_predictors</span> <span class="o">=</span> <span class="n">X_test_encoded</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s">'tmp'</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="3use-imputer-method-to-imputer-the-missing-values">3)Use imputer method to imputer the missing values</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#Use the Imputer class so you can impute missing values
</span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">Imputer</span>

<span class="n">my_imputer</span> <span class="o">=</span> <span class="n">Imputer</span><span class="p">()</span>
<span class="n">imputed_X_train</span> <span class="o">=</span> <span class="n">my_imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train_encoded_predictors</span><span class="p">)</span>
<span class="n">imputed_X_test</span> <span class="o">=</span> <span class="n">my_imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_test_encoded_predictors</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="4define-function-to-calculate-the-mean-absolute-error">4)Define function to calculate the mean-absolute-error</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">cal_error</span><span class="p">(</span><span class="n">my_model</span><span class="p">,</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">X_test</span><span class="p">,</span><span class="n">y_test</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
    <span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_error</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">my_model</span>
    <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>
    <span class="n">predictions</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="n">mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span><span class="n">predictions</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mae</span>
</code></pre></div></div>

<h3 id="5in-order-to-compare-the-performance-between-different-model-algorithmwe-select-randomforestregressor-algorithm-and-xgboost-algorithm">5)In order to compare the performance between different model algorithm,we select RandomForestRegressor algorithm and XGBoost algorithm</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span> <span class="nn">xgboost</span> <span class="kn">import</span> <span class="n">XGBRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeRegressor</span>
<span class="n">model_1</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">()</span>
<span class="n">model_2</span> <span class="o">=</span> <span class="n">XGBRegressor</span><span class="p">()</span>
<span class="n">model_3</span> <span class="o">=</span> <span class="n">DecisionTreeRegressor</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="6the-final-prediction-mean-absolute-error">6)The final prediction mean-absolute-error</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mae_1</span> <span class="o">=</span> <span class="n">cal_error</span><span class="p">(</span><span class="n">model_1</span><span class="p">,</span><span class="n">imputed_X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">imputed_X_test</span><span class="p">,</span><span class="n">y_test</span><span class="p">)</span>
<span class="n">mae_2</span> <span class="o">=</span> <span class="n">cal_error</span><span class="p">(</span><span class="n">model_2</span><span class="p">,</span><span class="n">imputed_X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">imputed_X_test</span><span class="p">,</span><span class="n">y_test</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"The Mean absolute error of RandomForestRegressor algorithm is </span><span class="si">%2</span><span class="s">f"</span> <span class="o">%</span><span class="p">(</span><span class="n">mae_1</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"The Mean absolute error of XGBoost algorithm is </span><span class="si">%2</span><span class="s">f"</span> <span class="o">%</span><span class="p">(</span><span class="n">mae_2</span><span class="p">))</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The Mean absolute error of RandomForestRegressor algorithm is 18703.810046
The Mean absolute error of XGBoost algorithm is 16662.033319
</code></pre></div></div>

<h3 id="7compare-to-model-which-only-use-columns-with-numerical-and-non-null-value">7)Compare to model which only use columns with numerical and non-null value</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">used_X_train</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span>
<span class="n">used_X_test</span> <span class="o">=</span> <span class="n">X_test</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span>
<span class="n">cols_with_missing</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">used_X_train</span>
                                    <span class="k">if</span> <span class="n">used_X_train</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="nb">any</span><span class="p">()]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">used_X_train</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">cols_with_missing</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">used_X_test</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">cols_with_missing</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mae_3</span> <span class="o">=</span> <span class="n">cal_error</span><span class="p">(</span><span class="n">model_1</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">y_test</span><span class="p">)</span>
<span class="n">mae_4</span> <span class="o">=</span> <span class="n">cal_error</span><span class="p">(</span><span class="n">model_2</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">y_test</span><span class="p">)</span> 
<span class="k">print</span><span class="p">(</span><span class="s">"The Mean absolute error of RandomForestRegressor algorithm with numerical and non-null value is </span><span class="si">%2</span><span class="s">f"</span> <span class="o">%</span><span class="p">(</span><span class="n">mae_3</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"The Mean absolute error of XGBoost algorithm with numerical and non-null value is </span><span class="si">%2</span><span class="s">f"</span> <span class="o">%</span><span class="p">(</span><span class="n">mae_4</span><span class="p">))</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The Mean absolute error of RandomForestRegressor algorithm with numerical and non-null value is 19547.234247
The Mean absolute error of XGBoost algorithm with numerical and non-null value is 17180.221604
</code></pre></div></div>

<ul>
  <li>The Mean-Absolute-Error of XGBoost algorithm is much smaller than that of RandomForestRegressor</li>
  <li>We use impter-method to imputer the missing values and apply one-hot encoding to transform categorical variable to binary value,in doing so,we can reserve features as much as possible.It turns out that we can recieve much better error performance based on these data than that remove the columns with non-numerical and non-null value</li>
</ul>

      </article>
      <hr>
        <div class="bdsharebuttonbox">
            <a href="#" class="bds_more" data-cmd="more"></a>
            <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
            <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
            <a href="#" class="bds_fbook" data-cmd="fbook" title="Share to Facebook"></a>
            <a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址"></a>
        </div>
        <script>
            window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    </div>
	
    <!-- duoshuo.com javascript include code. -->    
    
    <!-- disqus.com javascript include code. -->
	
    <div class="post-area post comment">
        <div id="disqus_thread"></div>
    </div>
	<script>
		var disqus_config = function () {
			this.page.url = "http://henryzhou1113.github.io/2018/07/17/How-to-build-A-Maching_Learning-System/"; 
			this.page.identifier = "/2018/07/17/How-to-build-A-Maching_Learning-System"; 
		};
		(function() {
			var d = document, s = d.createElement('script');
			s.src = '//henryzhou.disqus.com/embed.js';
			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
		})();
	</script>
	
    
  </div>
  
  <div id="content" class="col-sm-3">
    <!-- <div id="myAffix" class="shadow-bottom-center hidden-xs" data-spy="affix" data-offset-top="0" data-offset-bottom="-20"> -->
    <div id="myAffix" class="shadow-bottom-center hidden-xs" >
      <div class="categories-list-header">
        Content
      </div>
      <div class="content-text"></div>
    </div>
  </div>
  
</div>
    </div>

    
    <div id="top" data-toggle="tooltip" data-placement="left" title="back to top">
      <a href="javascript:;">
        <div class="arrow"></div>
        <div class="stick"></div>
      </a>
    </div>

    <footer class="">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <a href="mailto:jasonzhoujx@outlook.com"><span class="glyphicon glyphicon-envelope"></span> jasonzhoujx@outlook.com</a>
        <span class="point"> · </span>
        
          <a href="https://github.com/henryzhou1113">
            <span class="icon">
              <svg viewBox="0 0 16 16">
                <path fill="#aaa" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            Github
            <!-- <span>henryzhou1113</span> -->
          </a>
          
          <span class="point"> · </span>
          <span><a href="https://github.com/henryzhou1113/henryzhou1113.github.io/_posts/nlp/2018-07-17-How-to-build-A-Maching_Learning-System.md">View source</a></span>
          <!-- <span class="point"> · </span>
          <span><a class="newpost" href="javascript:;">New post</a></span> -->
		  <span class="point"> · </span>
          <span><a href="/feed.xml">RSS</a></span>
          <span class="point"> · </span>
          <span>&copy; 2018 HenryZhou</span>
      </div>
    </div>
  </div>
</footer>

    <script type="text/javascript">
    function OnClickNewPost()
    {
        var title = prompt("Please enter title of your post");
        if (title!=null){
            title = title.replace(" ", "-");
            var currentdate = new Date();
            var urlNewPage = "?filename=_posts/" 
                + currentdate.getFullYear() + "-" + (currentdate.getMonth()+1) + "-" + currentdate.getDate() + "-" + title + ".md";
                
            var defaultText =  [
                '---',
                'layout: post',
                'comments: true',
                'categories: diary',
                '---',
                '## Title',
                'text'
                ].join('\n');
            urlNewPage += "&value=" + encodeURIComponent(defaultText);
            window.open(urlNewPage);
        }
    }
    
    $(function() {
      // CreateNewPostLinks
      $('.newpost').each(function(){
          $(this).click(OnClickNewPost);
      });
    });
</script>
  
  </body>
</html>
